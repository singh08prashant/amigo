[debug] [2022-02-10T11:09:35.388Z] ----------------------------------------------------------------------
[debug] [2022-02-10T11:09:35.389Z] Command:       /usr/local/bin/firebase /home/singh08prashant/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/bin/firebase deploy --only hosting
[debug] [2022-02-10T11:09:35.389Z] CLI Version:   8.2.0
[debug] [2022-02-10T11:09:35.389Z] Platform:      linux
[debug] [2022-02-10T11:09:35.390Z] Node Version:  v12.16.1
[debug] [2022-02-10T11:09:35.390Z] Time:          Thu Feb 10 2022 16:39:35 GMT+0530 (India Standard Time)
[debug] [2022-02-10T11:09:35.390Z] ----------------------------------------------------------------------
[debug] [2022-02-10T11:09:35.390Z] 
[debug] [2022-02-10T11:09:35.395Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2022-02-10T11:09:35.395Z] > authorizing via signed-in user
[debug] [2022-02-10T11:09:35.396Z] [iam] checking project amigochat89 for permissions ["firebase.projects.get","firebasehosting.sites.update"]
[debug] [2022-02-10T11:09:35.398Z] >>> HTTP REQUEST POST https://cloudresourcemanager.googleapis.com/v1/projects/amigochat89:testIamPermissions  
 {"permissions":["firebase.projects.get","firebasehosting.sites.update"]}
[debug] [2022-02-10T11:09:37.073Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Thu, 10 Feb 2022 11:09:36 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=1355","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2022-02-10T11:09:37.078Z] >>> HTTP REQUEST GET https://firebase.googleapis.com/v1beta1/projects/amigochat89  
 
[debug] [2022-02-10T11:09:37.762Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Thu, 10 Feb 2022 11:09:37 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] 
[info] === Deploying to 'amigochat89'...
[info] 
[info] i  deploying hosting
[debug] [2022-02-10T11:09:37.768Z] >>> HTTP REQUEST POST https://firebasehosting.googleapis.com/v1beta1/sites/amigochat89-default-rtdb/versions  
 {"config":{"headers":[{"glob":"**/*.@(js|html)","headers":{"Cache-Control":"max-age=0"}}]},"labels":{"deployment-tool":"cli-firebase"}}
[debug] [2022-02-10T11:09:39.702Z] <<< HTTP RESPONSE 500 {"vary":"X-Origin, Referer, Origin,Accept-Encoding","content-type":"application/json; charset=UTF-8","date":"Thu, 10 Feb 2022 11:09:39 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2022-02-10T11:09:39.702Z] <<< HTTP RESPONSE BODY {"error":{"code":500,"message":"Internal error encountered.","status":"INTERNAL"}}
[error] 
[error] Error: HTTP Error: 500, Internal error encountered.
[debug] [2022-02-10T11:09:39.914Z] Error Context: {
  "body": {
    "error": {
      "code": 500,
      "message": "Internal error encountered.",
      "status": "INTERNAL"
    }
  },
  "response": {
    "statusCode": 500,
    "body": {
      "error": {
        "code": 500,
        "message": "Internal error encountered.",
        "status": "INTERNAL"
      }
    },
    "headers": {
      "vary": "X-Origin, Referer, Origin,Accept-Encoding",
      "content-type": "application/json; charset=UTF-8",
      "date": "Thu, 10 Feb 2022 11:09:39 GMT",
      "server": "ESF",
      "cache-control": "private",
      "x-xss-protection": "0",
      "x-frame-options": "SAMEORIGIN",
      "x-content-type-options": "nosniff",
      "alt-svc": "h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"",
      "accept-ranges": "none",
      "transfer-encoding": "chunked"
    },
    "request": {
      "uri": {
        "protocol": "https:",
        "slashes": true,
        "auth": null,
        "host": "firebasehosting.googleapis.com",
        "port": 443,
        "hostname": "firebasehosting.googleapis.com",
        "hash": null,
        "search": null,
        "query": null,
        "pathname": "/v1beta1/sites/amigochat89-default-rtdb/versions",
        "path": "/v1beta1/sites/amigochat89-default-rtdb/versions",
        "href": "https://firebasehosting.googleapis.com/v1beta1/sites/amigochat89-default-rtdb/versions"
      },
      "method": "POST"
    }
  }
}
[debug] [2022-02-10T11:10:39.566Z] ----------------------------------------------------------------------
[debug] [2022-02-10T11:10:39.567Z] Command:       /usr/local/bin/firebase /home/singh08prashant/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/bin/firebase emulators:start
[debug] [2022-02-10T11:10:39.567Z] CLI Version:   8.2.0
[debug] [2022-02-10T11:10:39.567Z] Platform:      linux
[debug] [2022-02-10T11:10:39.568Z] Node Version:  v12.16.1
[debug] [2022-02-10T11:10:39.568Z] Time:          Thu Feb 10 2022 16:40:39 GMT+0530 (India Standard Time)
[debug] [2022-02-10T11:10:39.568Z] ----------------------------------------------------------------------
[debug] [2022-02-10T11:10:39.568Z] 
[debug] [2022-02-10T11:10:39.572Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2022-02-10T11:10:39.572Z] > authorizing via signed-in user
[info] i  emulators: Starting emulators: firestore, hosting
[debug] [2022-02-10T11:10:39.597Z] [hub] writing locator at /tmp/hub-amigochat89.json
[info] ✔  hub: emulator hub started at http://localhost:4400
[info] i  firestore: downloading cloud-firestore-emulator-v1.11.3.jar...
[debug] [2022-02-10T11:10:51.399Z] Ignoring unsupported arg: projectId
[debug] [2022-02-10T11:10:51.400Z] Ignoring unsupported arg: auto_download
[debug] [2022-02-10T11:10:51.401Z] Starting firestore emulator with command {"binary":"java","args":["-Duser.language=en","-jar","/home/singh08prashant/.cache/firebase/emulators/cloud-firestore-emulator-v1.11.3.jar","--host","localhost","--port",8080,"--rules","/home/singh08prashant/Desktop/amigo/chat/firestore.rules"],"optionalArgs":["port","webchannel_port","host","rules","functions_emulator","seed_from_export"],"joinArgs":false}
[info] i  firestore: firestore emulator logging to firestore-debug.log
[debug] [2022-02-10T11:10:55.661Z] API endpoint: http://
[debug] [2022-02-10T11:10:55.662Z] localhost:8080
If you are using a library that supports the FIRESTORE_EMULATOR_HOST environment variable, run:

   export FIRESTORE_EMULATOR_HOST=localhost:8080

Dev App Server is now running.


[info] ✔  firestore: firestore emulator started at http://localhost:8080
[info] i  firestore: For testing set FIRESTORE_EMULATOR_HOST=localhost:8080
[debug] [2022-02-10T11:10:55.845Z] >>> HTTP REQUEST GET https://firebase.googleapis.com/v1beta1/projects/amigochat89/webApps/-/config  
 
[debug] [2022-02-10T11:10:58.657Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Thu, 10 Feb 2022 11:10:56 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] i  hosting: Serving hosting files from: ./public
[info] ✔  hosting: Local server: http://localhost:5000
[info] ✔  hosting: hosting emulator started at http://localhost:5000
[info] ✔  emulators: All emulators started, it is now safe to connect.
[debug] [2022-02-10T11:13:02.233Z] ----------------------------------------------------------------------
[debug] [2022-02-10T11:13:02.234Z] Command:       /usr/local/bin/firebase /home/singh08prashant/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/bin/firebase deploy
[debug] [2022-02-10T11:13:02.234Z] CLI Version:   8.2.0
[debug] [2022-02-10T11:13:02.234Z] Platform:      linux
[debug] [2022-02-10T11:13:02.235Z] Node Version:  v12.16.1
[debug] [2022-02-10T11:13:02.235Z] Time:          Thu Feb 10 2022 16:43:02 GMT+0530 (India Standard Time)
[debug] [2022-02-10T11:13:02.235Z] ----------------------------------------------------------------------
[debug] [2022-02-10T11:13:02.235Z] 
[debug] [2022-02-10T11:13:02.240Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2022-02-10T11:13:02.240Z] > authorizing via signed-in user
[debug] [2022-02-10T11:13:02.240Z] [iam] checking project amigochat89 for permissions ["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get","firebasehosting.sites.update","firebaserules.releases.create","firebaserules.releases.update","firebaserules.rulesets.create"]
[debug] [2022-02-10T11:13:02.242Z] >>> HTTP REQUEST POST https://cloudresourcemanager.googleapis.com/v1/projects/amigochat89:testIamPermissions  
 {"permissions":["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get","firebasehosting.sites.update","firebaserules.releases.create","firebaserules.releases.update","firebaserules.rulesets.create"]}
[debug] [2022-02-10T11:13:03.894Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Thu, 10 Feb 2022 11:13:03 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=1344","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2022-02-10T11:13:03.895Z] >>> HTTP REQUEST GET https://firebase.googleapis.com/v1beta1/projects/amigochat89  
 
[debug] [2022-02-10T11:13:04.498Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Thu, 10 Feb 2022 11:13:04 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] 
[info] === Deploying to 'amigochat89'...
[info] 
[info] i  deploying storage, firestore, hosting
[debug] [2022-02-10T11:13:04.503Z] >>> HTTP REQUEST GET https://appengine.googleapis.com/v1/apps/amigochat89  
 
[debug] [2022-02-10T11:13:10.129Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Thu, 10 Feb 2022 11:13:10 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] i  firebase.storage: checking storage.rules for compilation errors...
[debug] [2022-02-10T11:13:10.133Z] >>> HTTP REQUEST POST https://firebaserules.googleapis.com/v1/projects/amigochat89:test  
 {"source":{"files":[{"name":"storage.rules","content":"rules_version = '2';\n\nfunction isImageBelowMaxSize(maxSizeMB) {\n  return request.resource.size < maxSizeMB * 1024 * 1024\n      && request.resource.contentType.matches('image/.*');\n}\n\nservice firebase.storage {\n  match /b/{bucket}/o {\n    match /{userId}/{messageId}/{fileName} {\n      allow write: if request.auth != null && request.auth.uid == userId && isImageBelowMaxSize(10);\n      allow read;\n    }\n  }\n}\n"}]}}
[debug] [2022-02-10T11:13:11.666Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Thu, 10 Feb 2022 11:13:11 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] ✔  firebase.storage: rules file storage.rules compiled successfully
[info] i  cloud.firestore: checking firestore.rules for compilation errors...
[debug] [2022-02-10T11:13:11.670Z] >>> HTTP REQUEST POST https://firebaserules.googleapis.com/v1/projects/amigochat89:test  
 {"source":{"files":[{"name":"firestore.rules","content":"rules_version = '2';\n\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    // Messages:\n    //   - Anyone can read.\n    //   - Authenticated users can add and edit messages.\n    //   - Validation: Check name is same as auth token and text length below 300 char or that imageUrl is a URL.\n    //   - Deletes are not allowed.\n    match /messages/{messageId} {\n      allow read;\n      allow create, update: if request.auth != null\n                    && request.resource.data.name == request.auth.token.name\n                    && (request.resource.data.text is string\n                      && request.resource.data.text.size() <= 300\n                      || request.resource.data.imageUrl is string\n                      && request.resource.data.imageUrl.matches('https?://.*'));\n      allow delete: if false;\n    }\n    // FCM Tokens:\n    //   - Anyone can write their token.\n    //   - Reading list of tokens is not allowed.\n    match /fcmTokens/{token} {\n      allow read: if false;\n      allow write;\n    }\n  }\n}\n"}]}}
[debug] [2022-02-10T11:13:13.098Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Thu, 10 Feb 2022 11:13:12 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] ✔  cloud.firestore: rules file firestore.rules compiled successfully
[debug] [2022-02-10T11:13:13.102Z] >>> HTTP REQUEST POST https://firebasehosting.googleapis.com/v1beta1/sites/amigochat89-default-rtdb/versions  
 {"config":{"headers":[{"glob":"**/*.@(js|html)","headers":{"Cache-Control":"max-age=0"}}]},"labels":{"deployment-tool":"cli-firebase"}}
[debug] [2022-02-10T11:13:14.843Z] <<< HTTP RESPONSE 500 {"vary":"X-Origin, Referer, Origin,Accept-Encoding","content-type":"application/json; charset=UTF-8","date":"Thu, 10 Feb 2022 11:13:14 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2022-02-10T11:13:14.844Z] <<< HTTP RESPONSE BODY {"error":{"code":500,"message":"Internal error encountered.","status":"INTERNAL"}}
[error] 
[error] Error: HTTP Error: 500, Internal error encountered.
[debug] [2022-02-10T11:13:15.029Z] Error Context: {
  "body": {
    "error": {
      "code": 500,
      "message": "Internal error encountered.",
      "status": "INTERNAL"
    }
  },
  "response": {
    "statusCode": 500,
    "body": {
      "error": {
        "code": 500,
        "message": "Internal error encountered.",
        "status": "INTERNAL"
      }
    },
    "headers": {
      "vary": "X-Origin, Referer, Origin,Accept-Encoding",
      "content-type": "application/json; charset=UTF-8",
      "date": "Thu, 10 Feb 2022 11:13:14 GMT",
      "server": "ESF",
      "cache-control": "private",
      "x-xss-protection": "0",
      "x-frame-options": "SAMEORIGIN",
      "x-content-type-options": "nosniff",
      "alt-svc": "h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"",
      "accept-ranges": "none",
      "transfer-encoding": "chunked"
    },
    "request": {
      "uri": {
        "protocol": "https:",
        "slashes": true,
        "auth": null,
        "host": "firebasehosting.googleapis.com",
        "port": 443,
        "hostname": "firebasehosting.googleapis.com",
        "hash": null,
        "search": null,
        "query": null,
        "pathname": "/v1beta1/sites/amigochat89-default-rtdb/versions",
        "path": "/v1beta1/sites/amigochat89-default-rtdb/versions",
        "href": "https://firebasehosting.googleapis.com/v1beta1/sites/amigochat89-default-rtdb/versions"
      },
      "method": "POST"
    }
  }
}
[debug] [2022-02-10T11:20:33.852Z] ----------------------------------------------------------------------
[debug] [2022-02-10T11:20:33.854Z] Command:       /usr/local/bin/firebase /home/singh08prashant/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/bin/firebase deploy
[debug] [2022-02-10T11:20:33.854Z] CLI Version:   8.2.0
[debug] [2022-02-10T11:20:33.854Z] Platform:      linux
[debug] [2022-02-10T11:20:33.854Z] Node Version:  v12.16.1
[debug] [2022-02-10T11:20:33.855Z] Time:          Thu Feb 10 2022 16:50:33 GMT+0530 (India Standard Time)
[debug] [2022-02-10T11:20:33.855Z] ----------------------------------------------------------------------
[debug] [2022-02-10T11:20:33.855Z] 
[debug] [2022-02-10T11:20:33.861Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2022-02-10T11:20:33.861Z] > authorizing via signed-in user
[debug] [2022-02-10T11:20:33.861Z] [iam] checking project amigochat89 for permissions ["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get","firebasehosting.sites.update","firebaserules.releases.create","firebaserules.releases.update","firebaserules.rulesets.create"]
[debug] [2022-02-10T11:20:33.863Z] >>> HTTP REQUEST POST https://cloudresourcemanager.googleapis.com/v1/projects/amigochat89:testIamPermissions  
 {"permissions":["datastore.indexes.create","datastore.indexes.delete","datastore.indexes.list","datastore.indexes.update","firebase.projects.get","firebasehosting.sites.update","firebaserules.releases.create","firebaserules.releases.update","firebaserules.rulesets.create"]}
[debug] [2022-02-10T11:20:35.463Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Thu, 10 Feb 2022 11:20:35 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=1347","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2022-02-10T11:20:35.468Z] >>> HTTP REQUEST GET https://firebase.googleapis.com/v1beta1/projects/amigochat89  
 
[debug] [2022-02-10T11:20:36.023Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Thu, 10 Feb 2022 11:20:35 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] 
[info] === Deploying to 'amigochat89'...
[info] 
[info] i  deploying storage, firestore, hosting
[debug] [2022-02-10T11:20:36.030Z] >>> HTTP REQUEST GET https://appengine.googleapis.com/v1/apps/amigochat89  
 
[debug] [2022-02-10T11:20:36.885Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Thu, 10 Feb 2022 11:20:36 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] i  firebase.storage: checking storage.rules for compilation errors...
[debug] [2022-02-10T11:20:36.891Z] >>> HTTP REQUEST POST https://firebaserules.googleapis.com/v1/projects/amigochat89:test  
 {"source":{"files":[{"name":"storage.rules","content":"rules_version = '2';\n\nfunction isImageBelowMaxSize(maxSizeMB) {\n  return request.resource.size < maxSizeMB * 1024 * 1024\n      && request.resource.contentType.matches('image/.*');\n}\n\nservice firebase.storage {\n  match /b/{bucket}/o {\n    match /{userId}/{messageId}/{fileName} {\n      allow write: if request.auth != null && request.auth.uid == userId && isImageBelowMaxSize(10);\n      allow read;\n    }\n  }\n}\n"}]}}
[debug] [2022-02-10T11:20:38.423Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Thu, 10 Feb 2022 11:20:38 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] ✔  firebase.storage: rules file storage.rules compiled successfully
[info] i  cloud.firestore: checking firestore.rules for compilation errors...
[debug] [2022-02-10T11:20:38.429Z] >>> HTTP REQUEST POST https://firebaserules.googleapis.com/v1/projects/amigochat89:test  
 {"source":{"files":[{"name":"firestore.rules","content":"rules_version = '2';\n\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    // Messages:\n    //   - Anyone can read.\n    //   - Authenticated users can add and edit messages.\n    //   - Validation: Check name is same as auth token and text length below 300 char or that imageUrl is a URL.\n    //   - Deletes are not allowed.\n    match /messages/{messageId} {\n      allow read;\n      allow create, update: if request.auth != null\n                    && request.resource.data.name == request.auth.token.name\n                    && (request.resource.data.text is string\n                      && request.resource.data.text.size() <= 300\n                      || request.resource.data.imageUrl is string\n                      && request.resource.data.imageUrl.matches('https?://.*'));\n      allow delete: if false;\n    }\n    // FCM Tokens:\n    //   - Anyone can write their token.\n    //   - Reading list of tokens is not allowed.\n    match /fcmTokens/{token} {\n      allow read: if false;\n      allow write;\n    }\n  }\n}\n"}]}}
[debug] [2022-02-10T11:20:39.959Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Thu, 10 Feb 2022 11:20:39 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] ✔  cloud.firestore: rules file firestore.rules compiled successfully
[debug] [2022-02-10T11:20:39.962Z] >>> HTTP REQUEST POST https://firebasehosting.googleapis.com/v1beta1/sites/amigochat89-default-rtdb/versions  
 {"config":{"headers":[{"glob":"**/*.@(js|html)","headers":{"Cache-Control":"max-age=0"}}]},"labels":{"deployment-tool":"cli-firebase"}}
[debug] [2022-02-10T11:20:41.892Z] <<< HTTP RESPONSE 500 {"vary":"X-Origin, Referer, Origin,Accept-Encoding","content-type":"application/json; charset=UTF-8","date":"Thu, 10 Feb 2022 11:20:41 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2022-02-10T11:20:41.892Z] <<< HTTP RESPONSE BODY {"error":{"code":500,"message":"Internal error encountered.","status":"INTERNAL"}}
[error] 
[error] Error: HTTP Error: 500, Internal error encountered.
[debug] [2022-02-10T11:20:42.078Z] Error Context: {
  "body": {
    "error": {
      "code": 500,
      "message": "Internal error encountered.",
      "status": "INTERNAL"
    }
  },
  "response": {
    "statusCode": 500,
    "body": {
      "error": {
        "code": 500,
        "message": "Internal error encountered.",
        "status": "INTERNAL"
      }
    },
    "headers": {
      "vary": "X-Origin, Referer, Origin,Accept-Encoding",
      "content-type": "application/json; charset=UTF-8",
      "date": "Thu, 10 Feb 2022 11:20:41 GMT",
      "server": "ESF",
      "cache-control": "private",
      "x-xss-protection": "0",
      "x-frame-options": "SAMEORIGIN",
      "x-content-type-options": "nosniff",
      "alt-svc": "h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"",
      "accept-ranges": "none",
      "transfer-encoding": "chunked"
    },
    "request": {
      "uri": {
        "protocol": "https:",
        "slashes": true,
        "auth": null,
        "host": "firebasehosting.googleapis.com",
        "port": 443,
        "hostname": "firebasehosting.googleapis.com",
        "hash": null,
        "search": null,
        "query": null,
        "pathname": "/v1beta1/sites/amigochat89-default-rtdb/versions",
        "path": "/v1beta1/sites/amigochat89-default-rtdb/versions",
        "href": "https://firebasehosting.googleapis.com/v1beta1/sites/amigochat89-default-rtdb/versions"
      },
      "method": "POST"
    }
  }
}
